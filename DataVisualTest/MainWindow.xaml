<Window x:Class="DataVisualTest.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DataVisualTest"
        xmlns:chartingToolkit="clr-namespace:System.Windows.Controls.DataVisualization.Charting;assembly=System.Windows.Controls.DataVisualization.Toolkit"
        mc:Ignorable="d"
        Title="Power Monitor" 
        Width="1024" 
        Height="775" 
        >

    <StackPanel 
        Name="stackPanel0" 
        Background="LightGray"
        Margin="5"
        VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
        >
        
        <ToolBar>
            <Button Content="Get" Width="40" Click="Button_Click" Background="LightBlue"></Button>
        </ToolBar>

        <Label Name="lblMsg" Margin="0,0" Content="{Binding}" Background="LightBlue"></Label>

        <Grid
            VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
            >
        
            <Grid.ColumnDefinitions>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
            </Grid.ColumnDefinitions>

            <Grid.RowDefinitions>
                <RowDefinition ></RowDefinition>
                <RowDefinition ></RowDefinition>
            </Grid.RowDefinitions>

            
            <chartingToolkit:Chart 
                    Name="linePower" Title="Power" 
                    Grid.Row="0"
                    Grid.ColumnSpan="2"
                    MinHeight="350"
                    VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                    Background="LightBlue" Foreground="DarkBlue" 
                    IsEnabled="True">

                <chartingToolkit:Chart.LegendStyle>
                    <Style TargetType="Control">
                        <Setter Property="Width" Value="0" />
                        <Setter Property="Height" Value="0" />
                    </Style>
                </chartingToolkit:Chart.LegendStyle>

                <chartingToolkit:LineSeries Title="Power"  
                            VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                            ItemsSource="{Binding}" 
                            DependentValuePath="Value"
                            IndependentValuePath="Key"
                            IsSelectionEnabled="True">
                    <chartingToolkit:LineSeries.IndependentAxis>
                        <chartingToolkit:DateTimeAxis  Orientation="X" Title="TimeStamp" IntervalType="Seconds"/>
                    </chartingToolkit:LineSeries.IndependentAxis>
                    <chartingToolkit:LineSeries.DependentRangeAxis>
                        <chartingToolkit:LinearAxis Orientation="Y" Title="Power (mW)" VerticalAlignment="Stretch" VerticalContentAlignment="Stretch"/>
                    </chartingToolkit:LineSeries.DependentRangeAxis>
                </chartingToolkit:LineSeries>
            </chartingToolkit:Chart>


                <chartingToolkit:Chart 
                        Name="lineVolts" Title="Volts" 
                        Grid.Column="0" Grid.Row="1" 
                        VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                        Background="LightBlue" Foreground="DarkBlue" 
                        IsEnabled="True">

                    <chartingToolkit:Chart.LegendStyle>
                        <Style TargetType="Control">
                            <Setter Property="Width" Value="0" />
                            <Setter Property="Height" Value="0" />
                        </Style>
                    </chartingToolkit:Chart.LegendStyle>

                    <chartingToolkit:LineSeries Title="Voltage"  
                                    VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                                    ItemsSource="{Binding}" 
                                    DependentValuePath="Value"
                                    IndependentValuePath="Key"
                                    IsSelectionEnabled="True">
                        <chartingToolkit:LineSeries.IndependentAxis>
                            <chartingToolkit:DateTimeAxis  Orientation="X" Title="TimeStamp" IntervalType="Seconds"/>
                        </chartingToolkit:LineSeries.IndependentAxis>
                        <chartingToolkit:LineSeries.DependentRangeAxis>
                            <chartingToolkit:LinearAxis Orientation="Y" Title="Volatge (V)" VerticalAlignment="Stretch" VerticalContentAlignment="Stretch"/>
                        </chartingToolkit:LineSeries.DependentRangeAxis>
                    </chartingToolkit:LineSeries>
                </chartingToolkit:Chart>

                <chartingToolkit:Chart 
                    Name="lineCurrent" Title="Current"
                        Grid.Column="1" Grid.Row="1" 
                        VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                        MinHeight="300" 
                        Background="LightBlue" Foreground="DarkBlue" 
                        IsEnabled="True">

                    <chartingToolkit:Chart.LegendStyle>
                        <Style TargetType="Control">
                            <Setter Property="Width" Value="0" />
                            <Setter Property="Height" Value="0" />
                        </Style>
                    </chartingToolkit:Chart.LegendStyle>

                    <chartingToolkit:LineSeries Title="Current"  
                                    VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                                    ItemsSource="{Binding}" 
                                    DependentValuePath="Value"
                                    IndependentValuePath="Key"
                                    IsSelectionEnabled="True">
                        <chartingToolkit:LineSeries.IndependentAxis>
                            <chartingToolkit:DateTimeAxis  Orientation="X" Title="TimeStamp" IntervalType="Seconds"/>
                        </chartingToolkit:LineSeries.IndependentAxis>
                        <chartingToolkit:LineSeries.DependentRangeAxis>
                            <chartingToolkit:LinearAxis Orientation="Y" Title="Current (mA)" VerticalAlignment="Stretch" VerticalContentAlignment="Stretch"/>
                        </chartingToolkit:LineSeries.DependentRangeAxis>
                    </chartingToolkit:LineSeries>
                </chartingToolkit:Chart>

        </Grid>
            <StatusBar VerticalAlignment="Bottom">
                <StatusBarItem>
                    <TextBlock Name="lblStatus"></TextBlock>
                </StatusBarItem>
            </StatusBar>
    </StackPanel>
</Window>
